mutation UpdateUser($input: UpdateUserInput!) {
  updateUser(input: $input) {
    user {
      name
      settings {
        theme
        notifications
      }
    }
  }
}


query UserOperation($articleId: ID!, $metadataId: ID!, $size: Int = 100, $userId: ID, $userStatus: Status) {
  user(id: $userId, status: $userStatus) {
    name
    email
    name2: name
    smallPic: profilePic(size: 50)
    largePic: profilePic(size: 500)
    defaultPic: profilePic(size: $size)
    profile {
      ...PublicProfileFields
      ...PrivateProfileFields
    }
    profile2: profile {
      ... on PublicProfile {
        status
      }
      ... on PrivateProfile {
        age
      }
    }
    optionalProfile {
      ...PublicProfileFields
      ...PrivateProfileFields
    }
    address {
      street
      ...PublicAddressFields
      ...PrivateAddressFields
    }
    optionalAddress {
      street
      ... on PublicAddress {
        street
        public
      }
      ... on PrivateAddress {
        street
        private
      }
    }
    ...UserFragment1
    ...UserFragment2
    ... on User {
      name
      ...UserFragment2
    }
  }
  optionalUser {
    name
    email
  }
  article(id: $articleId) {
    id
    title
    tags
    optionalTags
    comments {
      id
      text
    }
    optionalComments {
      id
      text
    }
    rating
    optionalRating
    nullableElementsList
    fullyNullableList
    statuses
    optionalStatuses
    addresses {
      street
      ...PublicAddressFields
      ...PrivateAddressFields
    }
    optionalAddresses {
      street
      ... on PublicAddress {
        public
      }
      ... on PrivateAddress {
        private
      }
    }
    profiles {
      ...PublicProfileFields
      ...PrivateProfileFields
    }
    optionalProfiles {
      ... on PublicProfile {
        status
      }
      ... on PrivateProfile {
        age
      }
    }
    matrix
    optionalMatrix
  }
  metadata(id: $metadataId) {
    id
    data
  }
}

fragment UserFragment1 on User {
  name
  name
  ... on User {
    name
  }
  profile {
    ... on PublicProfile {
      status
    }
    ... on PrivateProfile {
      age
    }
  }
}

fragment UserFragment2 on User {
  name
}

fragment PublicProfileFields on PublicProfile {
  id
  status
}

fragment PrivateProfileFields on PrivateProfile {
  id
  age
}

fragment PublicAddressFields on PublicAddress {
  id
  street
  public
}

fragment PrivateAddressFields on PrivateAddress {
  id
  street
  private
}
