mutation UpdateUser($input: UpdateUserInput!) {
  updateUser(input: $input) {
    user {
      name
    }
  }
}


query UserOperation($articleId: ID!, $metadataId: ID!) {
  user {
    name
    name2: name
    profile {
      ... on PublicProfile {
        status
      }
      ... on PrivateProfile {
        age
      }
    }
    profile2: profile {
      ... on PublicProfile {
        status
      }
      ... on PrivateProfile {
        age
      }
    }
    optionalProfile {
      ... on PublicProfile {
        status
      }
      ... on PrivateProfile {
        age
      }
    }
    address {
      street
      ... on PublicAddress {
        street
        public
      }
      ... on PrivateAddress {
        street
        private
      }
    }
    optionalAddress {
      street
      ... on PublicAddress {
        street
        public
      }
      ... on PrivateAddress {
        street
        private
      }
    }
    ...UserFragment1
    ...UserFragment2
    ... on User {
      name
      ...UserFragment2
    }
  }
  optionalUser {
    name
  }
  article(id: $articleId) {
    id
    title
    tags
    optionalTags
    comments {
      id
      text
    }
    optionalComments {
      id
      text
    }
    rating
    optionalRating
    nullableElementsList
    fullyNullableList
    statuses
    optionalStatuses
    addresses {
      street
      ... on PublicAddress {
        public
      }
      ... on PrivateAddress {
        private
      }
    }
    optionalAddresses {
      street
      ... on PublicAddress {
        public
      }
      ... on PrivateAddress {
        private
      }
    }
    profiles {
      ... on PublicProfile {
        status
      }
      ... on PrivateProfile {
        age
      }
    }
    optionalProfiles {
      ... on PublicProfile {
        status
      }
      ... on PrivateProfile {
        age
      }
    }
    matrix
    optionalMatrix
  }
  metadata(id: $metadataId) {
    id
    data
  }
}

fragment UserFragment1 on User {
  name
  name
  ... on User {
    name
  }
  profile {
    ... on PublicProfile {
      status
    }
    ... on PrivateProfile {
      age
    }
  }
}

fragment UserFragment2 on User {
  name
}
